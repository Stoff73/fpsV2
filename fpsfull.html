<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TenGo Decision Platform - Complete Documentation</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --border-color: #e1e4e8;
            --code-bg: #f6f8fa;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 3rem 0;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        nav {
            background: white;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 1rem 0;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            padding: 0 1rem;
        }

        nav a {
            color: var(--primary-color);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background 0.3s, color 0.3s;
        }

        nav a:hover {
            background: var(--accent-color);
            color: white;
        }

        section {
            background: white;
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin: 2rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-color);
        }

        h3 {
            color: var(--secondary-color);
            font-size: 1.5rem;
            margin: 1.5rem 0 1rem;
        }

        h4 {
            color: var(--text-color);
            font-size: 1.2rem;
            margin: 1rem 0 0.5rem;
        }

        h5 {
            color: var(--secondary-color);
            font-size: 1rem;
            margin: 0.75rem 0 0.5rem;
        }

        p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background-color: var(--code-bg);
            font-weight: 600;
            color: var(--primary-color);
        }

        tr:nth-child(even) {
            background-color: var(--code-bg);
        }

        code {
            background-color: var(--code-bg);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background-color: var(--code-bg);
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .mermaid {
            margin: 2rem 0;
            text-align: center;
        }

        .highlight {
            background-color: #fff3cd;
            padding: 1rem;
            border-left: 4px solid var(--warning-color);
            margin: 1rem 0;
            border-radius: 4px;
        }

        blockquote {
            background: #f0f7ff;
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin: 1rem 0;
            font-style: italic;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .badge-success {
            background-color: var(--success-color);
            color: white;
        }

        .badge-warning {
            background-color: var(--warning-color);
            color: white;
        }

        .badge-info {
            background-color: var(--accent-color);
            color: white;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .product-card {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
        }

        .product-card h5 {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 0.5rem;
        }

        .product-card ul {
            margin-left: 1.25rem;
            margin-bottom: 0;
        }

        .product-card li {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            header h1 {
                font-size: 2rem;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: 0.5rem;
            }
        }

        .toc {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .toc h3 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .toc ul {
            list-style-type: none;
            margin-left: 0;
        }

        .toc li {
            margin-bottom: 0.3rem;
        }

        .toc a {
            color: var(--text-color);
            text-decoration: none;
        }

        .toc a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1>TenGo Decision Platform</h1>
        <p>Next-Generation Financial Planning Software Ecosystem</p>
    </header>

    <nav>
        <ul>
            <li><a href="#executive-summary">Executive Summary</a></li>
            <li><a href="#problem-statement">Problem Statement</a></li>
            <li><a href="#system-flow">System Flow</a></li>
            <li><a href="#modules">Domain Modules</a></li>
            <li><a href="#authoring">No-Code Authoring</a></li>
            <li><a href="#target-users">Target Users</a></li>
            <li><a href="#goals-metrics">Goals & Metrics</a></li>
            <li><a href="#mvp-scope">MVP Scope</a></li>
            <li><a href="#user-flows">User Flows</a></li>
            <li><a href="#roadmap">Roadmap</a></li>
        </ul>
    </nav>

    <div class="container">
        <section id="executive-summary">
            <h2>Executive Summary</h2>
            <p><strong>TenGo Decision Platform</strong> is the intelligent backend core of <strong>TenGo</strong>, a next-generation <strong>Financial Planning Software</strong> ecosystem. It centralizes and operationalizes the <strong>rules, decision trees, regulations, and financial calculations</strong> that autonomous agents use to deliver expert financial guidance.</p>

            <p>Together, TenGo Decision Platform (backend) and TenGo (frontend) enable the delivery of <strong>professional-grade financial advice — without the need for a human advisor</strong>.</p>

            <p>Targeting <strong>high-net-worth individuals</strong>, TenGo offers a <strong>holistic, data-driven approach</strong> to financial planning — encompassing investments, taxation, insurance, retirement, and estate management in a single, integrated experience.</p>

            <p>Unlike traditional financial planning tools that operate in silos, the TenGo ecosystem fuses human-level reasoning with machine precision. It ensures that every recommendation is <strong>consistent, compliant, and personalized</strong> — grounded in real-time data and a transparent decision logic layer.</p>

            <h3>Key Architectural Innovations</h3>
            <ul>
                <li><strong>No-Code Authoring Studio:</strong> Non-technical users can update regulations, tax laws, double-tax treaties, and financial-services rules via document upload, guided forms, or spreadsheets — with full versioning, validation, and audit trails.</li>
                <li><strong>Clean Layer Separation:</strong> Application layer (agents, workflow, dashboards) strictly separated from runtime services layer (calculation engines, data stores) via MCP interface. This enables independent scaling, deployment, and evolution of each layer.</li>
                <li><strong>Modular Architecture:</strong> Five domain-specific modules (Protection, Savings, Investment, Retirement, Estate Planning), each with a runtime service (stateless calculation engine) and application agent (intelligent orchestrator). Services accessed exclusively via MCP tools.</li>
                <li><strong>Governing Advice Agent:</strong> Application-layer orchestrator that invokes module agents, reconciles cross-module trade-offs, and delivers coherent, household-level financial plans to the main dashboard.</li>
                <li><strong>Bidirectional Dashboard Architecture:</strong> TenGo Frontend interconnects Main Dashboard and Module Dashboards bidirectionally, enabling seamless navigation. Main Dashboard displays unified insights from Governing Agent; Module Dashboards show domain-specific details from Module Agents.</li>
                <li><strong>Goal-Driven Decision Flow:</strong> Module agents retrieve goals from Context Store, invoke module services via MCP for calculations, and produce actionable recommendations with steps, products, and timelines.</li>
            </ul>
        </section>

        <section id="problem-statement">
            <h2>Problem Statement</h2>
            <p>The current financial advisory landscape is <strong>inefficient, biased, and inaccessible</strong> to many who need high-quality guidance the most.</p>

            <h3>1. Structural Barriers</h3>
            <p>Traditional financial advisors come with <strong>high costs</strong>, creating barriers for most individuals outside ultra-wealthy circles. Even when accessible, the human-centered model introduces <strong>conflicts of interest</strong>, <strong>bias</strong>, and <strong>inconsistency</strong> — as advice is shaped by individual judgment, product incentives, and personal experience rather than objective logic.</p>

            <h3>2. Limited Scope and Expertise</h3>
            <p>Advisors often <strong>restrict their recommendations</strong> to the domains they know best — typically investments — leaving critical aspects like taxation, insurance, estate planning, and cashflow management underdeveloped or ignored. As regulations evolve and financial products diversify, even seasoned professionals <strong>struggle to stay current</strong>, resulting in fragmented or outdated advice.</p>

            <h3>3. Platform Misalignment</h3>
            <p>Existing financial software tools are built <strong>for advisors, not consumers</strong>. They prioritize advisor workflows, sales processes, and compliance documentation — not user empowerment. This creates a structural bias where advice is shaped by advisor profitability, not user outcomes.</p>

            <h3>4. Regulatory Complexity</h3>
            <p>Financial regulation is both essential and burdensome. Advisors must interpret a <strong>constantly shifting regulatory landscape</strong>, making compliance costly and error-prone. Manual oversight increases operational risk and limits scalability.</p>

            <h3>5. The Result</h3>
            <p>Consumers — even high-net-worth individuals — face a fragmented experience: costly, inconsistent, and often misaligned with their holistic financial goals.</p>

            <div class="highlight">
                <p>The <strong>TenGo Decision Platform</strong> addresses these problems by systematizing the <strong>logic, regulations, and decision models</strong> behind financial advice, making expert-level financial planning available <strong>instantly, transparently, and at scale</strong> — without human bottlenecks or bias.</p>
            </div>
        </section>

        <section id="system-flow">
            <h2>System Flow (Author → Runtime)</h2>

            <ol>
                <li>
                    <h4>Authoring & Governance (No-Code Authoring Studio)</h4>
                    <ul>
                        <li><strong>Ingestion Methods:</strong> Document/Spreadsheet upload (PDF/DOC/CSV/XLSX), guided forms, or free-text entry with structured annotations.</li>
                        <li><strong>Mapping:</strong> Extracted facts automatically mapped to canonical schemas (Rule, Rate, Threshold, Definition, ProcessStep, Treaty).</li>
                        <li><strong>Validation Engine:</strong> Schema checks, jurisdiction scoping, referential integrity, conflict detection, and rule semantics validation.</li>
                        <li><strong>Testing Module:</strong> Unit tests for rules, golden cases/regression suites, jurisdiction/edge-case coverage.</li>
                        <li><strong>Impact Analysis Tool:</strong> Diff rules/data, forecast blast radius (affected scenarios, jurisdictions, products), produce change reports.</li>
                        <li><strong>Governance Workflow:</strong> Change requests, review assignments, redlines, test results, approvals, e-signature, version bumps, changelogs.</li>
                        <li><strong>Publish:</strong> Approved bundles deployed as immutable, signed, versioned artifacts to the Runtime Registry.</li>
                    </ul>
                </li>

                <li>
                    <h4>Runtime (Decision Service + Module Services)</h4>
                    <ul>
                        <li><strong>Runtime Registry & Bundle Service:</strong> Signed, immutable rule bundles with dev/stage/prod channels, rollback capability, scheduled activation, and deprecation policy.</li>
                        <li><strong>Runtime Relational DB:</strong> Read-optimized storage for regulations, tax law tables, product references, thresholds, and effective dates.</li>
                        <li><strong>Knowledge Graph (optional):</strong> Maps relationships between principles, rules, products, and jurisdictions for explorable context and impact analysis.</li>
                        <li><strong>Module Services:</strong> Five independent services (Protection, Savings, Investment, Retirement, Estate Planning), each with its own datastore and schemas. These are stateless execution services accessed via MCP.</li>
                        <li><strong>Execution Engine:</strong> Evaluates decisions using only deployed bundles (no LLM in decision paths).</li>
                        <li><strong>Audit/Logs:</strong> Deterministic traces, inputs/outputs, rule paths, data versions, all keyed by <code>audit_trace_id</code>.</li>
                    </ul>
                </li>

                <li>
                    <h4>MCP Server (Tool Broker)</h4>
                    <ul>
                        <li><strong>Shared Tools:</strong> <code>bundle.get_active</code>, <code>context.read</code>, <code>context.write</code>, <code>audit.start/append/finish</code>, <code>explain.link</code>.</li>
                        <li><strong>Module-Specific Tools:</strong> Each module exposes <code>evaluate</code>, <code>simulate</code>, domain-specific tools (e.g., <code>protection.products</code>, <code>savings.rate_shop</code>, <code>invest.rebalance</code>, <code>retire.contribute_opt</code>, <code>estate.iht_calc</code>).</li>
                        <li>Handles authentication, rate limiting, schema validation, tool versioning, and PII controls.</li>
                    </ul>
                </li>

                <li>
                    <h4>Application Layer (Agents + Workflow + UI)</h4>
                    <ul>
                        <li><strong>TenGo Frontend:</strong> Web/mobile interface with main dashboard and module-specific dashboards. Main dashboard displays aggregated insights; module dashboards show detailed domain-specific views. All dashboards interconnect bidirectionally for seamless navigation.</li>
                        <li><strong>Governing Advice Agent:</strong> Application-layer orchestrator that calls module agents, consumes their recommendations, applies goal-driven priority & constraint solver, and produces unified household-level plans. Accesses runtime services exclusively via MCP tools.</li>
                        <li><strong>Module Agents:</strong> Domain-specific agents (Protection, Savings, Investment, Retirement, Estate Planning) that retrieve state via <code>context.*</code>, call module-specific MCP tools to access runtime services, and return structured <code>Recommendation</code> objects. Driven by the Governing Agent.</li>
                        <li><strong>Workflow Orchestrator:</strong> Owns process/state machine, determines which agent runs next, supplies user context, and persists session state.</li>
                        <li><strong>User Data Store:</strong> Raw uploads + extracted structured fields with provenance tracking.</li>
                        <li><strong>Context Store:</strong> Per user/session/workflow, TTL'd, encrypted at rest, with field-level consent management.</li>
                    </ul>
                </li>

                <li>
                    <h4>LLM Usage (Strictly Limited)</h4>
                    <ul>
                        <li><strong>Explainability Only:</strong> LLM reads logs/audit to produce human-friendly explanations ("what happened & why"), never to change outcomes.</li>
                        <li><strong>Ingestion Only:</strong> LLM extracts structured fields from unstructured uploads (statements, scans) for human/automatic validation <strong>before</strong> use by decisions.</li>
                        <li><strong>Authoring Assistance:</strong> LLM helps map uploaded documents to canonical schemas, but all mappings are validated and approved by human reviewers.</li>
                        <li><strong>No LLM in Decision Paths:</strong> All recommendations originate from the Decision Service using deterministic rule evaluation.</li>
                    </ul>
                </li>

                <li>
                    <h4>Event Bus</h4>
                    <ul>
                        <li><strong>Events:</strong> <code>bundle.published</code>, <code>context.updated</code>, <code>recommendation.created</code>, <code>goal.achieved</code>.</li>
                        <li>Enables loose coupling between modules and supports asynchronous workflows.</li>
                    </ul>
                </li>
            </ol>

            <h3>Architectural Flow Summary</h3>
            <p><strong>User Interaction Flow:</strong></p>
            <ol>
                <li>User accesses <strong>TenGo Frontend</strong> (application layer) and navigates between Main Dashboard and Module Dashboards bidirectionally.</li>
                <li><strong>Main Dashboard</strong> requests unified plan from <strong>Governing Advice Agent</strong> (application layer).</li>
                <li><strong>Governing Advice Agent</strong> invokes <strong>Module Agents</strong> (Protection, Savings, Investment, etc.) in application layer.</li>
                <li><strong>Module Agents</strong> retrieve user context/goals from <strong>Context Store</strong> (application layer), then call <strong>Module Services</strong> via <strong>MCP tools</strong>.</li>
                <li><strong>Module Services</strong> (runtime layer) perform calculations using <strong>Runtime DB</strong>, <strong>Knowledge Graph</strong>, and <strong>Rule Bundles</strong>, logging to <strong>Audit Service</strong>.</li>
                <li><strong>Module Agents</strong> receive results, generate <strong>Recommendation</strong> objects, and return them to <strong>Governing Advice Agent</strong>.</li>
                <li><strong>Governing Advice Agent</strong> applies priority solver and constraint satisfaction, produces unified plan, and delivers it to <strong>Main Dashboard</strong>.</li>
                <li><strong>Module Dashboards</strong> request domain-specific details directly from respective <strong>Module Agents</strong>.</li>
            </ol>

            <blockquote>
                <strong>Key Principle:</strong> All communication between application layer and runtime services layer flows exclusively through the <strong>MCP Server</strong>, which enforces authentication, authorization, rate limiting, and audit logging. No agent can directly access runtime databases or services.
            </blockquote>

            <h3>Component Diagram</h3>
            <div class="mermaid">
                flowchart TB
                  subgraph Studio["No-Code Authoring Studio"]
                    UPLOAD[Document Upload]
                    FORMS[Guided Forms]
                    TEXT[Free-Text Entry]
                    MAP[Mapping Engine]
                    VAL[Validation Engine]
                    TEST[Testing Module]
                    IMP[Impact Analysis]
                    GOV[Governance Workflow]
                    ADB[(Authoring DB)]

                    UPLOAD --> MAP
                    FORMS --> MAP
                    TEXT --> MAP
                    MAP --> ADB
                    ADB --> VAL
                    VAL --> TEST
                    TEST --> IMP
                    IMP --> GOV
                  end

                  subgraph Deploy["Deployment"]
                    PKG[Signed Rule Bundle]
                    REG[(Runtime Registry)]
                    GOV --> PKG
                    PKG --> REG
                  end

                  subgraph Runtime["Runtime Services"]
                    RDB[(Runtime DB)]
                    KG[(Knowledge Graph)]

                    subgraph ModSvc["Module Services"]
                      PROT_SVC[Protection Service]
                      SAVE_SVC[Savings Service]
                      INV_SVC[Investment Service]
                      RET_SVC[Retirement Service]
                      EST_SVC[Estate Service]
                    end

                    EXEC[Execution Engine]
                    AUD[Audit & Logs]

                    REG --> RDB
                    REG --> KG
                    RDB --> EXEC
                    KG --> EXEC
                    EXEC --> ModSvc
                    ModSvc --> AUD
                  end

                  subgraph MCP["MCP Server"]
                    SHARED[Shared Tools]
                    MODTOOLS[Module Tools]
                  end

                  SHARED --> Runtime
                  MODTOOLS --> ModSvc

                  subgraph App["Application Layer"]
                    UI[TenGo Frontend]
                    MAIN[Main Dashboard]
                    DASH[Module Dashboards]

                    GADV[Governing Advice Agent]

                    subgraph Agents["Module Agents"]
                      PROT_AG[Protection Agent]
                      SAVE_AG[Savings Agent]
                      INV_AG[Investment Agent]
                      RET_AG[Retirement Agent]
                      EST_AG[Estate Agent]
                    end

                    WF[Workflow Orchestrator]
                    CTX[(Context Store)]
                    UDS[(User Data Store)]
                    GOALS[(Goal Store)]

                    UI <--> MAIN
                    UI <--> DASH
                    MAIN <--> DASH
                    MAIN --> GADV
                    DASH --> Agents

                    UI --> UDS
                    UI --> WF
                    WF <--> CTX
                    WF <--> GOALS
                    WF --> GADV
                    GADV --> Agents
                    Agents --> MODTOOLS
                    GADV --> SHARED
                  end

                  MCP --> App
            </div>
        </section>

        <section id="modules">
            <h2>Domain Modules (Independent & Interoperable)</h2>
            <p>The system comprises two distinct layers per domain:</p>
            <ul>
                <li><strong>Module Services (Runtime Layer):</strong> Stateless execution services in the runtime layer that perform calculations, evaluate rules, and query data. Accessed exclusively via MCP tools.</li>
                <li><strong>Module Agents (Application Layer):</strong> Intelligent orchestrators in the application layer that retrieve context, call module services via MCP, interpret results, and emit <code>Recommendation</code> objects.</li>
            </ul>
            <p>The <strong>Governing Advice Agent</strong> (application layer) calls module agents, aggregates their recommendations, and produces coherent, cross-module financial plans.</p>

            <h3>3.1 Protection Module</h3>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><strong>Scope</strong></td>
                    <td>Life insurance, critical illness cover, income protection, disability cover, and sickness/illness policies</td>
                </tr>
                <tr>
                    <td><strong>Service Layer (Runtime)</strong></td>
                    <td>Protection Service performs calculations: coverage gap analysis, policy suitability checks, premium optimization, waiting-period & exclusion validation</td>
                </tr>
                <tr>
                    <td><strong>Agent Layer (Application)</strong></td>
                    <td>Protection Agent retrieves user context (demographics, existing covers, goals), calls Protection Service via MCP tools, interprets results, and generates actionable recommendations</td>
                </tr>
                <tr>
                    <td><strong>Inputs (via Context)</strong></td>
                    <td>Demographics, existing covers, premiums, underwriting flags, income replacement goals</td>
                </tr>
                <tr>
                    <td><strong>Outputs (Recommendations)</strong></td>
                    <td>Recommended cover levels, product shortlist, compliance notes, action tasks, audit trace</td>
                </tr>
                <tr>
                    <td><strong>Dashboard</strong></td>
                    <td>Coverage score, gap heatmap, policy list, premium trend, tasks. Driven by Protection Agent.</td>
                </tr>
                <tr>
                    <td><strong>MCP Tools</strong></td>
                    <td><code>protection.evaluate</code>, <code>protection.simulate</code>, <code>protection.products</code>, <code>protection.explain</code></td>
                </tr>
            </table>

            <h4>Protection Product Types</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Life Insurance</h5>
                    <ul>
                        <li><strong>Term Insurance</strong> - Fixed period coverage</li>
                        <li><strong>Decreasing Term</strong> - Cover reduces over time (mortgage protection)</li>
                        <li><strong>Level Term</strong> - Fixed sum assured throughout term</li>
                        <li><strong>Whole of Life</strong> - Lifetime coverage with guaranteed payout</li>
                        <li><strong>Family Income Benefit</strong> - Regular income payments to dependants</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Critical Illness Cover</h5>
                    <ul>
                        <li><strong>Standalone CI</strong> - Independent critical illness policy</li>
                        <li><strong>Accelerated CI</strong> - Pays out from life cover on diagnosis</li>
                        <li><strong>Additional CI</strong> - Extra cover on top of life insurance</li>
                        <li>Covers: Cancer, heart attack, stroke, organ failure, etc.</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Income Protection</h5>
                    <ul>
                        <li>Replaces income if unable to work due to illness/injury</li>
                        <li>Configurable waiting periods (deferred periods)</li>
                        <li>Own occupation vs any occupation definitions</li>
                        <li>Short-term vs long-term cover options</li>
                        <li>Typically covers up to 60-70% of gross income</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Disability Cover</h5>
                    <ul>
                        <li><strong>Accident Only</strong> - Covers accidents resulting in disability</li>
                        <li><strong>Accident & Sickness</strong> - Comprehensive disability protection</li>
                        <li>Lump sum or regular benefit payment options</li>
                        <li>Activities of Daily Living (ADL) based triggers</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Sickness & Illness</h5>
                    <ul>
                        <li>Short-term sickness cover</li>
                        <li>Day-one cover vs deferred options</li>
                        <li>Weekly/monthly benefit payments</li>
                        <li>Lump sum payment options</li>
                        <li>Integration with employer sick pay schemes</li>
                    </ul>
                </div>
            </div>

            <h3>3.2 Savings Module</h3>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><strong>Scope</strong></td>
                    <td>Emergency fund planning, cash savings accounts, Cash ISAs, NS&I products, and liquidity management</td>
                </tr>
                <tr>
                    <td><strong>Service Layer (Runtime)</strong></td>
                    <td>Savings Service performs: emergency-fund adequacy calculations, rate shopping, liquidity ladder analysis, ISA allowance tracking</td>
                </tr>
                <tr>
                    <td><strong>Agent Layer (Application)</strong></td>
                    <td>Savings Agent retrieves user context, calls Savings Service via MCP, and generates recommendations for optimal savings strategy</td>
                </tr>
                <tr>
                    <td><strong>Outputs (Recommendations)</strong></td>
                    <td>Runway months, optimal accounts, rate comparisons, allowance utilization</td>
                </tr>
                <tr>
                    <td><strong>Dashboard</strong></td>
                    <td>Runway months, liquidity ladder, rates table, allowance tracker. Driven by Savings Agent.</td>
                </tr>
                <tr>
                    <td><strong>MCP Tools</strong></td>
                    <td><code>savings.evaluate</code>, <code>savings.rate_shop</code>, <code>savings.allowance_check</code></td>
                </tr>
            </table>

            <h4>Savings Account Types</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Cash ISA</h5>
                    <ul>
                        <li>Tax-free interest on savings</li>
                        <li>Annual allowance tracking (part of £20k ISA limit)</li>
                        <li>Easy access, notice, and fixed-rate options</li>
                        <li>Flexible ISA features (withdraw and replace)</li>
                        <li>Transfer between providers without losing allowance</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Easy Access Accounts</h5>
                    <ul>
                        <li><strong>Immediate Access</strong> - Withdraw anytime</li>
                        <li>No penalties for withdrawal</li>
                        <li>Variable interest rates</li>
                        <li>Ideal for emergency funds</li>
                        <li>Online and branch access options</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Notice Accounts</h5>
                    <ul>
                        <li>Higher rates than easy access</li>
                        <li>30, 60, 90, or 120 day notice periods</li>
                        <li>Penalty-free after notice served</li>
                        <li>Good for medium-term savings goals</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Fixed-Rate Bonds</h5>
                    <ul>
                        <li>Guaranteed rate for fixed term</li>
                        <li>Terms: 1, 2, 3, or 5 years typical</li>
                        <li>Early withdrawal penalties apply</li>
                        <li>Maturity date tracking</li>
                        <li>Higher rates for longer terms</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>NS&I Products</h5>
                    <ul>
                        <li><strong>Premium Bonds</strong> - Prize draw savings</li>
                        <li><strong>Income Bonds</strong> - Monthly interest payments</li>
                        <li><strong>Direct Saver</strong> - Easy access account</li>
                        <li>100% government-backed security</li>
                        <li>No limit on FSCS protection</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Regular Saver Accounts</h5>
                    <ul>
                        <li>Monthly deposit requirements</li>
                        <li>Often higher promotional rates</li>
                        <li>Maximum monthly contribution limits</li>
                        <li>12-month typical term</li>
                        <li>Builds savings discipline</li>
                    </ul>
                </div>
            </div>

            <h3>3.3 Investment Module</h3>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><strong>Scope</strong></td>
                    <td>Stocks & Shares ISA, General Investment Accounts, unit trusts, investment bonds (onshore/offshore), VCTs, and EIS schemes</td>
                </tr>
                <tr>
                    <td><strong>Service Layer (Runtime)</strong></td>
                    <td>Investment Service performs: goal funding status, wrapper optimization, fee-drag analysis, rebalancing calculations, tax-wrapper sequencing, Monte Carlo simulations</td>
                </tr>
                <tr>
                    <td><strong>Agent Layer (Application)</strong></td>
                    <td>Investment Agent retrieves user context and goals, calls Investment Service via MCP, and generates portfolio optimization recommendations</td>
                </tr>
                <tr>
                    <td><strong>Outputs (Recommendations)</strong></td>
                    <td>Portfolio allocation recommendations, wrapper usage optimization, rebalancing actions</td>
                </tr>
                <tr>
                    <td><strong>Dashboard</strong></td>
                    <td>Goal progress, allocation vs target, wrapper usage, fee/drag analysis. Driven by Investment Agent.</td>
                </tr>
                <tr>
                    <td><strong>MCP Tools</strong></td>
                    <td><code>invest.evaluate</code>, <code>invest.rebalance</code>, <code>invest.wrapper_optimize</code>, <code>invest.monte_carlo</code></td>
                </tr>
            </table>

            <h4>Investment Account & Wrapper Types</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Stocks & Shares ISA</h5>
                    <ul>
                        <li>Tax-free growth and dividends</li>
                        <li>Part of £20k annual ISA allowance</li>
                        <li>No capital gains tax on profits</li>
                        <li>Wide investment choice</li>
                        <li>Flexible ISA options available</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>General Investment Account (GIA)</h5>
                    <ul>
                        <li>No contribution limits</li>
                        <li>Subject to CGT and dividend tax</li>
                        <li>Flexible access to funds</li>
                        <li>Joint account options</li>
                        <li>Bed and ISA strategies</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Investment Bonds</h5>
                    <ul>
                        <li><strong>Onshore Bonds</strong> - UK tax-paid fund</li>
                        <li><strong>Offshore Bonds</strong> - Gross roll-up</li>
                        <li>5% tax-deferred withdrawals</li>
                        <li>Top-slicing relief on gains</li>
                        <li>Assignment for IHT planning</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Tax-Advantaged Investments</h5>
                    <ul>
                        <li><strong>VCT</strong> - 30% income tax relief</li>
                        <li><strong>EIS</strong> - 30% relief, CGT deferral</li>
                        <li><strong>SEIS</strong> - 50% relief for seed investments</li>
                        <li>Higher risk, potential higher returns</li>
                        <li>Minimum holding periods apply</li>
                    </ul>
                </div>
            </div>

            <h4>Holding Asset Types</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Equities</h5>
                    <ul>
                        <li><strong>UK Equity</strong> - FTSE listed shares</li>
                        <li><strong>US Equity</strong> - NYSE/NASDAQ stocks</li>
                        <li><strong>International Equity</strong> - Global markets</li>
                        <li>Individual stock selection</li>
                        <li>Dividend income tracking</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Funds & ETFs</h5>
                    <ul>
                        <li><strong>Unit Trusts/OEICs</strong> - Actively managed</li>
                        <li><strong>ETFs</strong> - Exchange traded, lower cost</li>
                        <li><strong>Index Trackers</strong> - Passive management</li>
                        <li>Multi-asset funds</li>
                        <li>Sector/thematic funds</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Fixed Income & Alternatives</h5>
                    <ul>
                        <li><strong>Bonds</strong> - Government and corporate</li>
                        <li><strong>Cash</strong> - Money market holdings</li>
                        <li><strong>Property</strong> - REITs and property funds</li>
                        <li><strong>Alternatives</strong> - Commodities, infrastructure</li>
                    </ul>
                </div>
            </div>

            <h3>3.4 Retirement Module</h3>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><strong>Scope</strong></td>
                    <td>Workplace pensions, personal pensions, SIPPs, defined benefit schemes, State Pension, and decumulation planning</td>
                </tr>
                <tr>
                    <td><strong>Service Layer (Runtime)</strong></td>
                    <td>Retirement Service performs: allowance checks (jurisdiction-specific), contribution optimization, decumulation planning, annuity vs drawdown analysis</td>
                </tr>
                <tr>
                    <td><strong>Agent Layer (Application)</strong></td>
                    <td>Retirement Agent retrieves user context and retirement goals, calls Retirement Service via MCP, and generates retirement planning recommendations</td>
                </tr>
                <tr>
                    <td><strong>Outputs (Recommendations)</strong></td>
                    <td>Optimal contribution levels, projected retirement income, drawdown strategies</td>
                </tr>
                <tr>
                    <td><strong>Dashboard</strong></td>
                    <td>Projected income, contribution tracker, tax impact, glidepath. Driven by Retirement Agent.</td>
                </tr>
                <tr>
                    <td><strong>MCP Tools</strong></td>
                    <td><code>retire.evaluate</code>, <code>retire.contribute_opt</code>, <code>retire.decumulate_plan</code>, <code>retire.state_pension</code></td>
                </tr>
            </table>

            <h4>Pension Types</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Defined Contribution (DC) Pensions</h5>
                    <ul>
                        <li><strong>Workplace Pension</strong> - Auto-enrolment schemes</li>
                        <li><strong>Personal Pension</strong> - Individual arrangements</li>
                        <li><strong>SIPP</strong> - Self-Invested Personal Pension</li>
                        <li><strong>Stakeholder Pension</strong> - Capped charges</li>
                        <li>Employee & employer contributions</li>
                        <li>Investment fund selection</li>
                        <li>Tax relief at source or net pay</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Defined Benefit (DB) Pensions</h5>
                    <ul>
                        <li><strong>Final Salary</strong> - Based on leaving salary</li>
                        <li><strong>Career Average (CARE)</strong> - Average earnings basis</li>
                        <li><strong>Public Sector</strong> - NHS, Teachers, Civil Service</li>
                        <li>Guaranteed income in retirement</li>
                        <li>Inflation protection (CPI/RPI/Fixed)</li>
                        <li>Spouse/dependant benefits</li>
                        <li>CETV transfer analysis</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>State Pension</h5>
                    <ul>
                        <li>New State Pension (post-2016)</li>
                        <li>Basic + Additional State Pension (pre-2016)</li>
                        <li>NI qualifying years tracking</li>
                        <li>State Pension Age calculation</li>
                        <li>Deferral options and increases</li>
                        <li>Gaps and voluntary contributions</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Retirement Income Options</h5>
                    <ul>
                        <li><strong>Flexi-Access Drawdown</strong> - Flexible withdrawals</li>
                        <li><strong>Annuity Purchase</strong> - Guaranteed income</li>
                        <li><strong>UFPLS</strong> - Uncrystallised funds pension lump sum</li>
                        <li><strong>Phased Retirement</strong> - Gradual drawdown</li>
                        <li>25% tax-free lump sum</li>
                        <li>Income sustainability modelling</li>
                    </ul>
                </div>
            </div>

            <h4>Pension Allowances & Limits</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Annual Allowance</h5>
                    <ul>
                        <li>Standard: £60,000 per year</li>
                        <li>Carry forward (3 years)</li>
                        <li>Tapered AA for high earners</li>
                        <li>Money Purchase Annual Allowance (MPAA)</li>
                        <li>Tax charge on excess contributions</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Lifetime Considerations</h5>
                    <ul>
                        <li>Lifetime Allowance abolished (April 2024)</li>
                        <li>Lump Sum Allowance: £268,275</li>
                        <li>Lump Sum & Death Benefit Allowance</li>
                        <li>Protection regimes (Fixed, Individual)</li>
                    </ul>
                </div>
            </div>

            <h3>3.5 Estate Planning Module</h3>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><strong>Scope</strong></td>
                    <td>IHT calculations, wills and probate, trusts, gifting strategies, business relief, and legacy planning</td>
                </tr>
                <tr>
                    <td><strong>Service Layer (Runtime)</strong></td>
                    <td>Estate Service performs: IHT estimation, gifting strategy timelines, nil-rate band tracking, probate readiness assessment</td>
                </tr>
                <tr>
                    <td><strong>Agent Layer (Application)</strong></td>
                    <td>Estate Agent retrieves user context and estate goals, calls Estate Service via MCP, and generates estate planning recommendations</td>
                </tr>
                <tr>
                    <td><strong>Outputs (Recommendations)</strong></td>
                    <td>IHT liability estimates, optimal gifting timelines, estate documentation status</td>
                </tr>
                <tr>
                    <td><strong>Dashboard</strong></td>
                    <td>IHT estimate, gifts timeline, allowances, executor readiness. Driven by Estate Agent.</td>
                </tr>
                <tr>
                    <td><strong>MCP Tools</strong></td>
                    <td><code>estate.evaluate</code>, <code>estate.iht_calc</code>, <code>estate.gifting_timeline</code>, <code>estate.trust_analysis</code></td>
                </tr>
            </table>

            <h4>IHT Allowances & Reliefs</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Nil Rate Bands</h5>
                    <ul>
                        <li><strong>NRB</strong> - £325,000 tax-free threshold</li>
                        <li><strong>RNRB</strong> - £175,000 residence allowance</li>
                        <li>Transferable NRB between spouses</li>
                        <li>Transferable RNRB between spouses</li>
                        <li>Taper for estates over £2m</li>
                        <li>40% IHT on excess</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Exemptions & Reliefs</h5>
                    <ul>
                        <li><strong>Spouse Exemption</strong> - Unlimited transfers</li>
                        <li><strong>Charity Relief</strong> - 36% rate if 10%+ to charity</li>
                        <li><strong>Business Relief</strong> - 50% or 100% relief</li>
                        <li><strong>Agricultural Relief</strong> - Farm assets</li>
                        <li><strong>Woodland Relief</strong> - Timber exclusion</li>
                    </ul>
                </div>
            </div>

            <h4>Gifting Strategies</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Exempt Gifts</h5>
                    <ul>
                        <li><strong>Annual Exemption</strong> - £3,000 per year</li>
                        <li><strong>Small Gifts</strong> - £250 per person</li>
                        <li><strong>Wedding Gifts</strong> - Up to £5,000</li>
                        <li><strong>Normal Expenditure</strong> - From surplus income</li>
                        <li><strong>Maintenance</strong> - Spouse/dependants</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Potentially Exempt Transfers (PETs)</h5>
                    <ul>
                        <li>Gifts to individuals</li>
                        <li>7-year rule for IHT exemption</li>
                        <li>Taper relief (3-7 years)</li>
                        <li>Gift tracking and timeline</li>
                        <li>Failed PET consequences</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Chargeable Lifetime Transfers (CLTs)</h5>
                    <ul>
                        <li>Gifts to trusts</li>
                        <li>Immediate 20% charge (over NRB)</li>
                        <li>Additional 40% if death within 7 years</li>
                        <li>14-year relevant property regime</li>
                    </ul>
                </div>
            </div>

            <h4>Trust Types</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Main Trust Categories</h5>
                    <ul>
                        <li><strong>Bare Trust</strong> - Beneficiary has absolute right</li>
                        <li><strong>Interest in Possession</strong> - Right to income</li>
                        <li><strong>Discretionary Trust</strong> - Trustee discretion</li>
                        <li><strong>Accumulation & Maintenance</strong> - For minors</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Specialist Trusts</h5>
                    <ul>
                        <li><strong>Life Insurance Trust</strong> - Policy held in trust</li>
                        <li><strong>Discounted Gift Trust</strong> - IHT with retained income</li>
                        <li><strong>Loan Trust</strong> - Capital preservation</li>
                        <li><strong>Settlor-Interested Trust</strong> - Settlor benefits</li>
                    </ul>
                </div>
            </div>

            <h4>Will & Probate Planning</h4>
            <div class="product-grid">
                <div class="product-card">
                    <h5>Will Components</h5>
                    <ul>
                        <li>Executor appointments</li>
                        <li>Guardian nominations (for minors)</li>
                        <li>Specific bequests (items/amounts)</li>
                        <li>Residuary estate distribution</li>
                        <li>Trust provisions within will</li>
                        <li>Letter of wishes</li>
                    </ul>
                </div>
                <div class="product-card">
                    <h5>Bequest Types</h5>
                    <ul>
                        <li><strong>Percentage</strong> - Share of estate</li>
                        <li><strong>Specific Amount</strong> - Fixed sum</li>
                        <li><strong>Specific Asset</strong> - Named items</li>
                        <li><strong>Residuary</strong> - What remains</li>
                    </ul>
                </div>
            </div>

            <blockquote>
                <strong>Module Interoperability:</strong> Module services in the runtime layer are stateless and independently deployable. Module agents in the application layer orchestrate service calls and can run standalone (requiring only MCP access) or together. The <strong>Governing Advice Agent</strong> (application layer) invokes module agents, reconciles trade-offs (e.g., fund emergency savings before increasing pension contributions), and applies an explicit priority model with what-if simulations to produce unified household plans.
            </blockquote>
        </section>

        <section id="authoring">
            <h2>No-Code Authoring Studio</h2>
            <p>The Authoring Studio enables non-technical users (compliance officers, regulatory specialists, financial experts) to maintain the decision logic that powers TenGo — without writing code.</p>

            <h3>Authoring Methods</h3>
            <table>
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Use Cases</th>
                        <th>Output</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Document Upload</strong></td>
                        <td>Regulatory PDFs, tax legislation, policy documents</td>
                        <td>Extracted facts mapped to canonical schemas with LLM assistance</td>
                    </tr>
                    <tr>
                        <td><strong>Spreadsheet Import</strong></td>
                        <td>Tax rate tables, thresholds, allowances, treaty articles</td>
                        <td>Direct mapping to Rate, Threshold, Treaty schemas</td>
                    </tr>
                    <tr>
                        <td><strong>Guided Forms</strong></td>
                        <td>Common rule types (rates, thresholds, allowances, residency tests)</td>
                        <td>Structured rule entries with jurisdiction and effective date</td>
                    </tr>
                    <tr>
                        <td><strong>Free-Text Entry</strong></td>
                        <td>Process descriptions, complex rules with inline citations</td>
                        <td>Structured annotations and rule references</td>
                    </tr>
                </tbody>
            </table>

            <h3>Authoring Workflow</h3>
            <div class="mermaid">
                flowchart LR
                  A[Upload/Enter Content] --> B[Extraction & Mapping]
                  B --> C[Schema Validation]
                  C --> D{Valid?}
                  D -->|No| E[Review Errors]
                  E --> B
                  D -->|Yes| F[Impact Analysis]
                  F --> G[Test Suite Execution]
                  G --> H{Tests Pass?}
                  H -->|No| I[Review Failures]
                  I --> B
                  H -->|Yes| J[Governance Review]
                  J --> K[Approvals & E-Sign]
                  K --> L[Version Bump]
                  L --> M[Publish Bundle]
                  M --> N[Deploy to Runtime]
            </div>

            <h3>Validation & Safety Gates</h3>
            <ul>
                <li><strong>Schema Validation:</strong> All entries must conform to canonical schemas (Rule, Rate, Threshold, Definition, ProcessStep, Treaty).</li>
                <li><strong>Jurisdiction Scoping:</strong> Every rule tagged with applicable jurisdictions and effective date ranges.</li>
                <li><strong>Conflict Detection:</strong> Automatic detection of overlapping or contradictory rules.</li>
                <li><strong>Test Coverage:</strong> Unit tests and regression suites must pass before publishing.</li>
                <li><strong>Review Workflow:</strong> At least one reviewer approval required; redlines and comments tracked.</li>
                <li><strong>Signed Artifacts:</strong> Published bundles are cryptographically signed and immutable.</li>
            </ul>

            <h3>Version Operations</h3>
            <ul>
                <li><strong>Compare/Diff:</strong> Visual side-by-side comparison of rule versions.</li>
                <li><strong>Rollback:</strong> Instant reversion to previous bundle versions.</li>
                <li><strong>Staged Rollout:</strong> Deploy to dev → stage → production with jurisdiction-specific targeting.</li>
                <li><strong>Scheduled Activation:</strong> Rules become effective on specified dates (e.g., new tax year).</li>
                <li><strong>Deprecation Policy:</strong> Graceful phase-out of obsolete rules with warnings.</li>
            </ul>
        </section>

        <section id="goal-engine">
            <h2>Goal-Driven Decision Engine</h2>
            <p>Financial planning is driven by user-defined goals. Module agents in the application layer orchestrate goal evaluation by calling module services via MCP.</p>

            <h3>Goal Model</h3>
            <pre><code>Goal {
  id: string
  type: "protection" | "savings" | "investment" | "retirement" | "estate"
  target_value: number
  horizon: date
  constraints: { max_premium?, risk_tolerance?, ... }
  priority: 1-10
  current_state: { ... }
  target_state: { ... }
}</code></pre>

            <h3>Evaluation Loop (Module Agent Flow)</h3>
            <ol>
                <li><strong>Load Goal:</strong> Module agent retrieves user goals from Context Store (application layer).</li>
                <li><strong>Assess Current State:</strong> Module agent calls module service via MCP to evaluate current financial position (runtime layer performs calculations).</li>
                <li><strong>Calculate Delta:</strong> Module agent identifies gap between current and target state.</li>
                <li><strong>Generate Plan:</strong> Module agent calls module service via MCP for simulations and optimization. Agent produces step-by-step recommendations with products, timelines, and milestones.</li>
                <li><strong>Return Recommendations:</strong> Module agent emits structured <code>Recommendation</code> objects with <code>audit_trace_id</code> to Governing Agent.</li>
            </ol>

            <h3>Cross-Module Trade-Offs (Governing Advice Agent)</h3>
            <p>The <strong>Governing Advice Agent</strong> (application layer) invokes multiple module agents and reconciles their recommendations:</p>
            <ul>
                <li><strong>Agent Orchestration:</strong> Governing Agent calls module agents (Protection, Savings, Investment, Retirement, Estate), each of which accesses runtime services via MCP.</li>
                <li><strong>Recommendation Aggregation:</strong> Collects <code>Recommendation</code> objects from all module agents.</li>
                <li><strong>Priority Model:</strong> Applies user-defined or rule-based priority scoring.</li>
                <li><strong>Constraint Satisfaction:</strong> Ensures recommendations respect budget, risk tolerance, and legal requirements.</li>
                <li><strong>What-If Simulations:</strong> Calls module services via MCP to test different allocation strategies and presents trade-off visualizations.</li>
                <li><strong>Unified Plan:</strong> Produces single coherent household-level financial plan with sequenced actions, delivered to Main Dashboard.</li>
            </ul>
        </section>

        <section id="minimal-mcp">
            <h2>MCP Tool Surface</h2>
            <p>The MCP server is the <strong>exclusive interface</strong> between the application layer (agents, workflow, UI) and the runtime services layer (module services, execution engine, data stores). All agents access runtime services solely through MCP tools.</p>

            <h3>Shared Tools (All Modules)</h3>
            <pre><code>bundle.get_active({ jurisdiction, date })
  → { bundle_id, version, rules[], rates[], thresholds[], ... }

context.read({ client_id, scope })
  → { facts: { k: v }, version }

context.write({ client_id, facts })
  → { ok: true, version }

audit.start({ client_id, module, operation })
  → { audit_trace_id }

audit.append({ audit_trace_id, event })
  → { ok: true }

audit.finish({ audit_trace_id })
  → { ok: true }

explain.link({ audit_trace_id, refs })
  → { explanation, rule_path[], data_versions }
</code></pre>

            <h3>Module-Specific Tools</h3>
            <pre><code>protection.evaluate({ client_id, goals })
  → Recommendation[]

protection.simulate({ client_id, scenario })
  → { projected_coverage, gaps[], premium_impact }

protection.products({ filters })
  → Product[]

savings.evaluate({ client_id, goals })
  → Recommendation[]

savings.rate_shop({ amount, term, jurisdiction })
  → RateComparison[]

invest.evaluate({ client_id, goals })
  → Recommendation[]

invest.rebalance({ client_id, target_allocation })
  → { trades[], tax_impact }

invest.wrapper_optimize({ client_id, goals })
  → WrapperStrategy

retire.evaluate({ client_id, goals })
  → Recommendation[]

retire.contribute_opt({ client_id, constraints })
  → ContributionPlan

retire.decumulate_plan({ client_id, retirement_date })
  → DecumulationStrategy

estate.evaluate({ client_id, goals })
  → Recommendation[]

estate.iht_calc({ client_id, as_of_date })
  → { liability, breakdown[], allowances[] }

estate.gifting_timeline({ client_id, strategy })
  → GiftingPlan
</code></pre>

            <h3>Unified Recommendation Schema</h3>
            <pre><code>Recommendation {
  id: string
  module: "protection" | "savings" | "investment" | "retirement" | "estate"
  title: string
  summary: string
  actions: Action[]
  impact: { financial?, risk?, tax?, ... }
  preconditions: string[]
  references: [ audit_trace_id, rule_ids[], data_versions ]
  priority: number
  status: "pending" | "in_progress" | "completed"
}

Action {
  type: "open_account" | "increase_coverage" | "rebalance" | ...
  description: string
  product?: Product
  amount?: number
  deadline?: date
}
</code></pre>
        </section>

        <section id="data-stores">
            <h2>Data Stores (Separation of Concerns)</h2>

            <h3>Application Layer Data Stores</h3>
            <ol>
                <li><strong>Context Store:</strong> Application-layer storage. Per user/session/workflow, TTL'd, encrypted at rest, field-level consent tracking. Accessed directly by agents and workflow orchestrator.</li>
                <li><strong>User Data Store:</strong> Application-layer storage. Raw uploads + extracted structured fields with provenance tracking and validation status.</li>
                <li><strong>Goal Store:</strong> Application-layer storage. User-defined financial goals with progress tracking.</li>
            </ol>

            <h3>Runtime Layer Data Stores</h3>
            <ol>
                <li><strong>Authoring Relational DB:</strong> Author-time truth (editable), versioned content, change proposals, test fixtures, governance workflow state.</li>
                <li><strong>Runtime Registry:</strong> Signed, immutable rule bundles with version metadata, channel assignments (dev/stage/prod), and activation schedules. Accessed via MCP shared tools.</li>
                <li><strong>Runtime Relational DB:</strong> Deploy-time truth (immutable per version), hot path for decision evaluation, optimized for read performance. Accessed via MCP tools.</li>
                <li><strong>Module Datastores:</strong> Per-module storage for domain-specific schemas, intermediate calculations. Accessed via MCP module tools.</li>
                <li><strong>Audit/Logs:</strong> Append-only events, traces, hash-anchored for integrity, indexed by <code>audit_trace_id</code>. Accessed via MCP shared tools.</li>
                <li><strong>Knowledge Graph (optional but recommended):</strong> Relationship queries, impact mapping, explainability links between principles ↔ rules ↔ products ↔ jurisdictions. Accessed via MCP tools.</li>
            </ol>

            <blockquote>
                <strong>Architectural Boundary:</strong> Application layer components (agents, workflow, UI) access runtime layer data stores <em>exclusively</em> through MCP tools. This enforces separation of concerns, enables independent scaling, and ensures consistent authentication, authorization, and audit logging.
            </blockquote>
        </section>

        <section id="guardrails">
            <h2>Guardrails & Guarantees</h2>

            <ul>
                <li><strong>Determinism:</strong> Decisions are reproducible by version + inputs; no randomness in evaluation. Module services execute identical logic for identical inputs.</li>
                <li><strong>Explainability:</strong> Every output maps to <code>audit_trace_id</code> with complete rule path & data versions. Agents capture full execution trace.</li>
                <li><strong>Compliance:</strong> Only validated, deployed bundles can execute; LLM never alters decisions. All compliance logic resides in runtime services.</li>
                <li><strong>Evolvability:</strong> Dual DBs (authoring/runtime) + impact analysis enable safe, frequent changes without affecting agents.</li>
                <li><strong>Modularity:</strong> Module services and module agents independently buildable, testable, and deployable; zero cross-module build coupling. Services accessed only via MCP contracts.</li>
                <li><strong>Security:</strong> MCP as single choke point (authN/Z, PII redaction, rate limits); field-level encryption; consent registry. Agents cannot bypass MCP to access runtime services.</li>
                <li><strong>Layer Separation:</strong> Application layer (agents, workflow, UI) strictly separated from runtime layer (services, data). MCP enforces this boundary.</li>
                <li><strong>Data Sovereignty:</strong> Jurisdiction-specific data residency and regulatory compliance enforced at runtime layer.</li>
                <li><strong>Immutability:</strong> Published bundles are cryptographically signed and cannot be modified; only replaced with new versions.</li>
            </ul>
        </section>

        <section id="target-users">
            <h2>Target Users</h2>

            <h3>Primary User Segment: High-Net-Worth Individuals (HNWIs)</h3>
            <p>TenGo is built for <strong>individuals seeking holistic, compliant financial guidance</strong> — without the bias or cost of traditional advisors. These users typically manage complex financial lives with multiple assets, obligations, and jurisdictions, and require accuracy, transparency, and convenience in one system.</p>

            <h4>Key Characteristics</h4>
            <ul>
                <li><strong>Profile:</strong> Professionals, entrepreneurs, and retirees with sophisticated portfolios.</li>
                <li><strong>Needs:</strong> Centralized, unbiased, and continuously updated financial plans that adapt to changing laws, product offerings, and personal circumstances.</li>
                <li><strong>Behavior:</strong> Tech-savvy and privacy-conscious, already using digital financial tools (e.g., online banking, trading platforms, insurance dashboards).</li>
                <li><strong>Goals:</strong> Optimize and protect wealth through compliant, holistic planning that evolves automatically as their financial environment changes.</li>
            </ul>

            <h4>How TenGo Serves Them</h4>
            <ul>
                <li>Users interact directly with the <strong>TenGo frontend</strong>, providing input data manually or via <strong>secure, user-authorized API integrations</strong> with their financial institutions.</li>
                <li>These integrations allow TenGo to <strong>automatically ingest and refresh financial data</strong> — including accounts, holdings, insurance, loans, tax documents, and market products — reducing friction and human error.</li>
                <li>All API access is <strong>permission-based</strong> and fully transparent; users can review, grant, or revoke data connections at any time.</li>
                <li>The TenGo Decision Platform processes this data through validated rules and models, generating <strong>recommendations and explanations</strong> that are accurate, up-to-date, and auditable.</li>
                <li>Users can include <strong>family members or dependents</strong>, ensuring true household-level financial planning and decision impact analysis.</li>
            </ul>

            <h3>Secondary User Segment: Financial Services Professionals</h3>
            <p>While the initial rollout focuses on individuals, TenGo is designed for seamless expansion into the professional space.</p>

            <h4>Regulatory Authors & Compliance Officers</h4>
            <ul>
                <li><strong>Role:</strong> Maintain regulatory rules, tax laws, and compliance processes in the Authoring Studio.</li>
                <li><strong>Access:</strong> No-code authoring tools with governance workflows, version control, and audit trails.</li>
                <li><strong>Output:</strong> Validated, signed rule bundles that power decision services.</li>
            </ul>

            <h4>Financial Advisors (Future)</h4>
            <ul>
                <li><strong>Role:</strong> Use TenGo Decision Platform as a decision verification and automation layer.</li>
                <li><strong>Access:</strong> Secure API / Dashboard with client-authorized data sharing.</li>
                <li><strong>Output:</strong> Validation reports, compliance summaries, bulk client evaluations.</li>
            </ul>

            <h3>User Relationship Model</h3>
            <table>
                <thead>
                    <tr>
                        <th>User Type</th>
                        <th>Access Method</th>
                        <th>Data Ownership</th>
                        <th>Data Source</th>
                        <th>Primary Output</th>
                        <th>LLM Usage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Individual / Family</td>
                        <td>TenGo Frontend (Web/Mobile)</td>
                        <td>User-controlled</td>
                        <td>Manual input + User-authorized APIs</td>
                        <td>Personalized Recommendations & Explanations</td>
                        <td>Explainability + Data Ingestion only</td>
                    </tr>
                    <tr>
                        <td>Regulatory Author</td>
                        <td>Authoring Studio</td>
                        <td>Platform-owned</td>
                        <td>Regulatory documents, tax legislation</td>
                        <td>Validated Rule Bundles</td>
                        <td>Document extraction assistance only</td>
                    </tr>
                    <tr>
                        <td>Compliance Officer</td>
                        <td>Audit Portal (Future)</td>
                        <td>Read-only</td>
                        <td>Platform Audit DB</td>
                        <td>Regulatory Trace + Impact Reports</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Advisor / Professional</td>
                        <td>Secure API / Dashboard (Future)</td>
                        <td>Shared / Client-authorized</td>
                        <td>CRM, Custodian, RegTech Feeds</td>
                        <td>Validation Reports & Compliance Summaries</td>
                        <td>Optional</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="goals-metrics">
            <h2>Goals & Success Metrics</h2>

            <h3>Business Objectives</h3>
            <table>
                <thead>
                    <tr>
                        <th>Objective</th>
                        <th>Description</th>
                        <th>Success Metric</th>
                        <th>Target (Phase 1)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Deliver AI-grade financial advice without advisors</td>
                        <td>Replace human interpretation with deterministic, rules-driven logic</td>
                        <td>% of advice workflows fully automated and compliant</td>
                        <td>≥ 90% of supported advice areas</td>
                    </tr>
                    <tr>
                        <td>Enable no-code regulatory updates</td>
                        <td>Non-technical users can author and publish rule changes</td>
                        <td>Time from regulation change → live deployment</td>
                        <td>≤ 72 hours (single jurisdiction)</td>
                    </tr>
                    <tr>
                        <td>Build trust through transparency & auditability</td>
                        <td>Ensure every recommendation is explainable and verifiable</td>
                        <td>% of recommendations with complete audit_trace coverage</td>
                        <td>100%</td>
                    </tr>
                    <tr>
                        <td>Reduce cost-to-serve and dependency on professionals</td>
                        <td>Achieve scalability without human overhead</td>
                        <td>Average cost per plan generated</td>
                        <td>≤ 10% of traditional advisory cost</td>
                    </tr>
                    <tr>
                        <td>Maintain regulatory compliance by design</td>
                        <td>Automate rule updates and validation</td>
                        <td>Schema validation error rate post-publish</td>
                        <td>0%</td>
                    </tr>
                    <tr>
                        <td>Enable household-level financial planning</td>
                        <td>Expand scope beyond single-user profiles</td>
                        <td>% of users with multi-member plans</td>
                        <td>≥ 60%</td>
                    </tr>
                    <tr>
                        <td>Integrate trusted data sources for automation</td>
                        <td>Eliminate manual data entry through API sync</td>
                        <td>% of data fields auto-populated via APIs</td>
                        <td>≥ 75%</td>
                    </tr>
                    <tr>
                        <td>Achieve goal-driven outcomes</td>
                        <td>Users progress toward defined financial goals</td>
                        <td>% of users with at least one goal "on track"</td>
                        <td>≥ 75% within 90 days</td>
                    </tr>
                    <tr>
                        <td>Establish recurring engagement</td>
                        <td>Create stickiness through ongoing monitoring & updates</td>
                        <td>Monthly Active Users (MAU) retention rate</td>
                        <td>≥ 70% of active base</td>
                    </tr>
                </tbody>
            </table>

            <h3>Technical & Platform KPIs</h3>
            <table>
                <thead>
                    <tr>
                        <th>Domain</th>
                        <th>KPI</th>
                        <th>Target</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Authoring Efficiency</td>
                        <td>Time to publish regulatory change</td>
                        <td>≤ 72 hours (single jurisdiction)</td>
                    </tr>
                    <tr>
                        <td>Data Quality</td>
                        <td>Validation error rate</td>
                        <td>≤ 0.5% of all data records</td>
                    </tr>
                    <tr>
                        <td>Decision Accuracy</td>
                        <td>Correctness of logic-based advice (vs. expert benchmark)</td>
                        <td>≥ 98%</td>
                    </tr>
                    <tr>
                        <td>Module Independence</td>
                        <td>Mean Time To Deploy (MTTD) per module</td>
                        <td>≤ 30 minutes</td>
                    </tr>
                    <tr>
                        <td>Module Coverage</td>
                        <td>% of target workflows automated per live module</td>
                        <td>≥ 65% (MVP core), ≥ 85% (MVP+)</td>
                    </tr>
                    <tr>
                        <td>System Reliability</td>
                        <td>Decision Service uptime</td>
                        <td>≥ 99.9%</td>
                    </tr>
                    <tr>
                        <td>MCP Latency</td>
                        <td>API response time</td>
                        <td>≤ 300 ms (P95)</td>
                    </tr>
                    <tr>
                        <td>Change Impact Coverage</td>
                        <td>% of new regulations tested via Impact Tool before deployment</td>
                        <td>100%</td>
                    </tr>
                    <tr>
                        <td>Audit Completeness</td>
                        <td>% of logs with reproducible decision trace</td>
                        <td>100%</td>
                    </tr>
                    <tr>
                        <td>Security & Privacy</td>
                        <td>Data access violations or unauthorized API use</td>
                        <td>0 incidents</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="mvp-scope">
            <h2>MVP Scope</h2>

            <h3>MVP Objective</h3>
            <p>Deliver a functional, compliant <strong>financial decision automation loop</strong> that enables:</p>
            <ul>
                <li><strong>Regulatory Authors:</strong> Update rules via no-code authoring (forms + spreadsheet import).</li>
                <li><strong>End Users:</strong> Input data, receive validated financial recommendations, understand the rationale, and explore detailed visual insights — <strong>without human intermediaries</strong>.</li>
                <li><strong>Goal Tracking:</strong> Monitor progress toward financial goals across multiple domains.</li>
            </ul>

            <blockquote>
                <strong>Input → Decision → Explanation → Visualization → Audit</strong>
            </blockquote>

            <h3>MVP Timeline</h3>
            <p><strong>Target completion: 31 December 2025</strong></p>

            <h3>Core Features (Must Have)</h3>

            <h4>Backend – TenGo Decision Platform</h4>
            <table>
                <thead>
                    <tr>
                        <th>Module</th>
                        <th>Description</th>
                        <th>MVP Inclusion</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>No-Code Authoring Studio</td>
                        <td>Forms + Spreadsheet import for rates/thresholds/allowances; document upload with read-only preview</td>
                        <td><span class="badge badge-success">✅ Core version</span></td>
                    </tr>
                    <tr>
                        <td>Validation Engine</td>
                        <td>Schema and integrity checks for all rule/data entries</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Testing Module</td>
                        <td>Unit, regression, and scenario testing for rule accuracy</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Impact Analysis Tool</td>
                        <td>Identify downstream effects of changes</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                    <tr>
                        <td>Governance Workflow</td>
                        <td>Review, approval, e-signature, version control</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                    <tr>
                        <td>Runtime Registry</td>
                        <td>Signed, immutable rule bundles with deployment channels</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Deployment Pipeline</td>
                        <td>Version-controlled publishing to Decision Service</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Module Services</td>
                        <td>Protection, Savings, Investment, Retirement, Estate Planning (independent services with agents and dashboards)</td>
                        <td><span class="badge badge-success">✅ Five modules</span></td>
                    </tr>
                    <tr>
                        <td>Governing Advice Agent</td>
                        <td>Aggregates module outputs, applies priority solver</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                    <tr>
                        <td>Decision Service (Runtime Engine)</td>
                        <td>Executes logic and delivers recommendations</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Audit & Transparency Layer</td>
                        <td>Full decision trace with rule paths and data sources</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Runtime Relational DB</td>
                        <td>Read-optimized, deployment-only data store</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Knowledge Graph (v1)</td>
                        <td>Maps relationships between rules, products, and principles</td>
                        <td><span class="badge badge-success">✅ Basic graph layer</span></td>
                    </tr>
                    <tr>
                        <td>Context Store v1</td>
                        <td>User facts, consent tracking, field-level encryption</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Event Bus</td>
                        <td>Async communication between modules and workflows</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                </tbody>
            </table>

            <h4>Frontend – TenGo Application</h4>
            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                        <th>MVP Inclusion</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Main Dashboard</td>
                        <td>Aggregated view from Governing Agent with goal progress</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>Module Dashboards</td>
                        <td>Detailed views for Protection, Savings, Investment, Retirement, Estate Planning</td>
                        <td><span class="badge badge-success">✅ Five dashboards</span></td>
                    </tr>
                    <tr>
                        <td>Data Input Forms</td>
                        <td>Per-module forms for user data entry</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                    <tr>
                        <td>API Connections</td>
                        <td>User-authorized integrations with financial institutions</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                    <tr>
                        <td>Family Profiles</td>
                        <td>Multi-member household planning</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                    <tr>
                        <td>Audit Views</td>
                        <td>Explainability interface with rule paths and data versions</td>
                        <td><span class="badge badge-success">✅ Basic version</span></td>
                    </tr>
                    <tr>
                        <td>Goal Management</td>
                        <td>Create, track, and monitor financial goals</td>
                        <td><span class="badge badge-success">✅ Included</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>MVP+ (Next 2–3 Months)</h3>
            <ul>
                <li>Authoring Studio: <strong>Free-text structured annotations</strong>, treaty authoring wizard, advanced rollback UI, enhanced diff visualization.</li>
                <li>Advanced cross-module trade-offs with interactive what-if scenario modeling and trade-off visualization.</li>
                <li>Enhanced Knowledge Graph with visual exploration interface and relationship discovery.</li>
                <li>Advanced API integrations (tax authorities, pension providers, estate registries).</li>
                <li>Multi-jurisdiction support expansion (begin with 2-3 additional countries).</li>
                <li>Advanced goal tracking with milestone notifications and progress forecasting.</li>
            </ul>

            <h3>Visual MVP Scope Diagram</h3>
            <div class="mermaid">
                flowchart TB
                  subgraph Authoring["Authoring Layer (MVP)"]
                    FORMS[Guided Forms]
                    SHEETS[Spreadsheet Import]
                    DOCUP[Document Upload Preview]
                    VAL[Validation Engine]
                    TEST[Testing Module]
                    IMP[Impact Analysis Basic]
                    GOV[Governance Workflow]
                    DEP[Deployment Pipeline]

                    FORMS --> VAL
                    SHEETS --> VAL
                    DOCUP --> VAL
                    VAL --> TEST
                    TEST --> IMP
                    IMP --> GOV
                    GOV --> DEP
                  end

                  subgraph Runtime["Runtime Services (MVP)"]
                    REG[(Runtime Registry)]
                    RDB[(Runtime DB)]
                    KG[(Knowledge Graph v1)]

                    subgraph MVP_Svc["Module Services"]
                      PROT_S[Protection Service]
                      SAVE_S[Savings Service]
                      INV_S[Investment Service]
                      RET_S[Retirement Service]
                      EST_S[Estate Service]
                    end

                    EXEC[Execution Engine]
                    AUD[Audit Layer]

                    DEP --> REG
                    REG --> RDB
                    REG --> KG
                    RDB --> EXEC
                    KG --> EXEC
                    EXEC --> MVP_Svc
                    MVP_Svc --> AUD
                  end

                  subgraph MCP_MVP["MCP Server (MVP)"]
                    SHARED_T[Shared Tools]
                    MOD_T[Module Tools]
                  end

                  SHARED_T --> Runtime
                  MOD_T --> MVP_Svc

                  subgraph App_MVP["Application Layer (MVP)"]
                    UI_MVP[TenGo Frontend]
                    MAIN_DASH[Main Dashboard]
                    MOD_DASH[Module Dashboards x5]

                    GADV_MVP[Governing Agent Basic]

                    subgraph Agents_MVP["Module Agents"]
                      PROT_A[Protection Agent]
                      SAVE_A[Savings Agent]
                      INV_A[Investment Agent]
                      RET_A[Retirement Agent]
                      EST_A[Estate Agent]
                    end

                    WF_MVP[Workflow]
                    CTX_MVP[(Context Store)]
                    GOALS_MVP[Goal Management]
                    UDS_MVP[(User Data Store)]

                    UI_MVP <--> MAIN_DASH
                    UI_MVP <--> MOD_DASH
                    MAIN_DASH <--> MOD_DASH
                    UI_MVP --> UDS_MVP
                    UI_MVP --> WF_MVP

                    WF_MVP <--> CTX_MVP
                    WF_MVP --> GADV_MVP
                    MAIN_DASH --> GADV_MVP
                    MOD_DASH --> Agents_MVP

                    GADV_MVP --> Agents_MVP
                    Agents_MVP --> MOD_T
                    GADV_MVP --> SHARED_T
                  end
            </div>

            <h3>MVP Success Criteria</h3>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Metric</th>
                        <th>Target</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Authoring Efficiency</td>
                        <td>Publish regulatory change (single jurisdiction)</td>
                        <td>≤ 72 hours</td>
                    </tr>
                    <tr>
                        <td>Automation Coverage</td>
                        <td>% of workflows fully automated (per live module)</td>
                        <td>≥ 65%</td>
                    </tr>
                    <tr>
                        <td>Dashboard Completeness</td>
                        <td>Product areas with interactive drill-down dashboards</td>
                        <td>5 (Protection, Savings, Investment, Retirement, Estate)</td>
                    </tr>
                    <tr>
                        <td>Data Automation</td>
                        <td>% of financial data auto-populated via API</td>
                        <td>≥ 60%</td>
                    </tr>
                    <tr>
                        <td>Goal Tracking</td>
                        <td>% of users with at least one goal "on track"</td>
                        <td>≥ 75% within 90 days</td>
                    </tr>
                    <tr>
                        <td>User Trust</td>
                        <td>Explanation clarity score</td>
                        <td>≥ 8/10</td>
                    </tr>
                    <tr>
                        <td>System Reliability</td>
                        <td>Decision uptime</td>
                        <td>≥ 99.5%</td>
                    </tr>
                    <tr>
                        <td>Module Independence</td>
                        <td>Mean Time To Deploy (MTTD) per module</td>
                        <td>≤ 30 minutes</td>
                    </tr>
                    <tr>
                        <td>Audit Integrity</td>
                        <td>Logs with full trace ID</td>
                        <td>100%</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="user-flows">
            <h2>User Experience & System Flows</h2>

            <h3>1. Regulatory Author Flow</h3>
            <div class="mermaid">
                flowchart TD
                  A[Log into Authoring Studio] --> B{Choose Input Method}
                  B --> C[Upload Spreadsheet]
                  B --> D[Fill Guided Form]
                  B --> E[Upload Document]
                  C --> F[Auto-map to Schema]
                  D --> F
                  E --> G[LLM-Assisted Extraction]
                  G --> H[Review & Confirm Mapping]
                  H --> F
                  F --> I[Schema Validation]
                  I --> J{Valid?}
                  J -->|No| K[Review Errors]
                  K --> B
                  J -->|Yes| L[Run Test Suite]
                  L --> M{Tests Pass?}
                  M -->|No| N[Review Failures]
                  N --> B
                  M -->|Yes| O[Run Impact Analysis]
                  O --> P[Submit for Review]
                  P --> Q[Reviewer Approves]
                  Q --> R[E-Sign & Version Bump]
                  R --> S[Publish Bundle]
                  S --> T[Deploy to Runtime]
            </div>

            <h3>2. End User Experience Flow</h3>
            <div class="mermaid">
                flowchart TD
                  A[User signs up / logs in] --> B[Define Financial Goals]
                  B --> C[Connect accounts or upload data]
                  C --> D[System ingests & validates data]
                  D --> E[Main Dashboard: aggregated view]
                  E --> F{Explore Modules}
                  F --> G[Protection Dashboard]
                  F --> H[Savings Dashboard]
                  F --> I[Investment Dashboard]
                  F --> J[Retirement Dashboard]
                  F --> K[Estate Planning Dashboard]
                  G --> L[View Recommendations]
                  H --> L
                  I --> L
                  J --> L
                  K --> L
                  L --> M[View Explanation & Audit]
                  M --> N{Accept Recommendation?}
                  N -->|No| O[Refine Inputs/Goals]
                  O --> D
                  N -->|Yes| P[Execute Actions]
                  P --> Q[Update Context]
                  Q --> R[Monitor Goal Progress]
                  R --> S{Goal Achieved?}
                  S -->|No| R
                  S -->|Yes| T[Celebrate & Set New Goal]
            </div>

            <h3>3. System Data Flow (Technical Overview)</h3>
            <div class="mermaid">
                flowchart TB
                  subgraph AppLayer["Application Layer"]
                    UI[TenGo Frontend]
                    MAIN_D[Main Dashboard]
                    MOD_D[Module Dashboards]

                    GADV_A[Governing Advice Agent]

                    subgraph ModAgents["Module Agents"]
                      PROT_A[Protection]
                      SAVE_A[Savings]
                      INV_A[Investment]
                      RET_A[Retirement]
                      EST_A[Estate]
                    end

                    WF_A[Workflow Engine]
                    CTX_A[(Context Store)]
                    GOALS_A[(Goal Store)]
                    UDS_A[(User Data Store)]
                  end

                  subgraph MCP_Layer["MCP Server (Exclusive Interface)"]
                    SHARED_T[Shared Tools]
                    MOD_T[Module Tools]
                  end

                  subgraph Runtime["Runtime Services Layer"]
                    REG_R[(Runtime Registry)]
                    RDB_R[(Runtime DB)]
                    KG_R[(Knowledge Graph)]

                    subgraph ModServices["Module Services"]
                      PROT_S[Protection Service]
                      SAVE_S[Savings Service]
                      INV_S[Investment Service]
                      RET_S[Retirement Service]
                      EST_S[Estate Service]
                    end

                    EXEC_R[Execution Engine]
                    AUD_R[Audit Service]
                  end

                  UI <--> MAIN_D
                  UI <--> MOD_D
                  MAIN_D <--> MOD_D
                  UI --> UDS_A
                  UI --> WF_A

                  WF_A <--> CTX_A
                  WF_A <--> GOALS_A
                  WF_A --> GADV_A

                  MAIN_D --> GADV_A
                  MOD_D --> ModAgents

                  GADV_A --> ModAgents
                  ModAgents --> MOD_T
                  GADV_A --> SHARED_T
                  WF_A --> SHARED_T

                  SHARED_T --> REG_R
                  SHARED_T --> CTX_A
                  SHARED_T --> AUD_R
                  MOD_T --> ModServices

                  REG_R --> RDB_R
                  REG_R --> KG_R
                  RDB_R --> EXEC_R
                  KG_R --> EXEC_R
                  EXEC_R --> ModServices
                  ModServices --> AUD_R
            </div>

            <h3>Key Visualization Dashboards (MVP)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Dashboard</th>
                        <th>Features</th>
                        <th>Driven By (Application Layer)</th>
                        <th>Data Accessed Via</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Main Dashboard</strong></td>
                        <td>Household overview, goal progress summary, priority recommendations, cross-module insights</td>
                        <td>Governing Advice Agent</td>
                        <td>MCP Shared Tools → Runtime Services + Goal Store (app layer)</td>
                    </tr>
                    <tr>
                        <td><strong>Protection</strong></td>
                        <td>Coverage score, gap heatmap, policy list, premium trend, action tasks</td>
                        <td>Protection Agent</td>
                        <td>MCP Module Tools → Protection Service → Product DB, Runtime DB</td>
                    </tr>
                    <tr>
                        <td><strong>Savings</strong></td>
                        <td>Runway months, liquidity ladder, rate comparisons, allowance tracker</td>
                        <td>Savings Agent</td>
                        <td>MCP Module Tools → Savings Service → Rate DB, Runtime DB</td>
                    </tr>
                    <tr>
                        <td><strong>Investment</strong></td>
                        <td>Portfolio mix, performance graphs, product details, projected returns, allocation vs target, wrapper usage, fee/drag</td>
                        <td>Investment Agent</td>
                        <td>MCP Module Tools → Investment Service → Product DB, Runtime DB</td>
                    </tr>
                    <tr>
                        <td><strong>Retirement</strong></td>
                        <td>Projected income, contribution tracker, tax impact, glidepath, decumulation scenarios</td>
                        <td>Retirement Agent</td>
                        <td>MCP Module Tools → Retirement Service → Regulation DB, Runtime DB</td>
                    </tr>
                    <tr>
                        <td><strong>Estate Planning</strong></td>
                        <td>IHT estimate, gifts timeline, nil-rate band utilization, executor readiness</td>
                        <td>Estate Agent</td>
                        <td>MCP Module Tools → Estate Service → Tax DB, Knowledge Graph</td>
                    </tr>
                    <tr>
                        <td><strong>Family View</strong></td>
                        <td>Household summary, dependent analysis, inheritance planning, goal impact across members</td>
                        <td>Governing Advice Agent + All Module Agents</td>
                        <td>Context Store (app layer) + MCP Tools → All Runtime Services</td>
                    </tr>
                </tbody>
            </table>
            <p><strong>Dashboard Interconnection:</strong> TenGo Frontend enables bidirectional navigation between Main Dashboard and Module Dashboards. Users can drill down from aggregated insights to domain-specific details and back seamlessly.</p>
        </section>

        <section id="roadmap">
            <h2>Post-MVP Vision & Roadmap</h2>

            <h3>Long-Term Vision</h3>
            <p>To create a <strong>global, compliant, and explainable financial decision infrastructure</strong> that unifies financial rules, tax systems, and products across jurisdictions — enabling consistent, regulatory-grade advice anywhere a user holds assets or obligations.</p>

            <h3>Phase 2A: Professional & Advisor Enablement (TenGo Pro)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Focus Area</th>
                        <th>Description</th>
                        <th>Deliverables</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Advisor Portal / Dashboard</td>
                        <td>Dedicated interface for professionals to view, validate, and override recommendations with reasoning logs</td>
                        <td>TenGo Pro dashboard + client linking</td>
                    </tr>
                    <tr>
                        <td>Client-Advisor Collaboration</td>
                        <td>Shared view between individual and advisor with permission control</td>
                        <td>Secure data sharing layer</td>
                    </tr>
                    <tr>
                        <td>Audit & Compliance Tools</td>
                        <td>Visual diff of rules, version tracking, and automated compliance checklists</td>
                        <td>Compliance dashboard</td>
                    </tr>
                    <tr>
                        <td>Advanced Impact Analysis</td>
                        <td>Graph-based visualization of how rule changes affect outcomes</td>
                        <td>Interactive impact explorer</td>
                    </tr>
                    <tr>
                        <td>Bulk Evaluation API</td>
                        <td>Process multiple client datasets simultaneously</td>
                        <td><code>bulk_evaluate_plan</code> MCP tool</td>
                    </tr>
                    <tr>
                        <td>Notifications & Change Reports</td>
                        <td>Advisors notified of new rule or tax updates impacting clients</td>
                        <td>Real-time change alert system</td>
                    </tr>
                </tbody>
            </table>

            <h3>Phase 2B: Cross-Border Integration (Global Expansion Foundations)</h3>
            <p><strong>Objective:</strong> Extend TenGo's decision intelligence to support <strong>multi-jurisdictional financial planning</strong> — beginning with <strong>South Africa</strong>, <strong>Australia</strong>, and the <strong>United States</strong>.</p>

            <h4>Deliverables by Jurisdiction</h4>
            <table>
                <thead>
                    <tr>
                        <th>Country</th>
                        <th>Data Integrations</th>
                        <th>Regulation Sources</th>
                        <th>Currency</th>
                        <th>Product Support</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>South Africa</strong></td>
                        <td>SARS, FSCA, major banks</td>
                        <td>Income Tax Act, FAIS, Pension Funds Act</td>
                        <td>ZAR</td>
                        <td>Retirement funds, trusts, insurance</td>
                    </tr>
                    <tr>
                        <td><strong>Australia</strong></td>
                        <td>ATO, ASIC, APRA</td>
                        <td>ITAA97, SIS Act, Superannuation regulations</td>
                        <td>AUD</td>
                        <td>Superannuation, investments, property</td>
                    </tr>
                    <tr>
                        <td><strong>USA</strong></td>
                        <td>IRS, SEC, FINRA, State APIs</td>
                        <td>Internal Revenue Code, SEC Acts, State tax</td>
                        <td>USD</td>
                        <td>IRA, 401(k), brokerage, life insurance</td>
                    </tr>
                </tbody>
            </table>

            <h3>Phase 3: Predictive AI & Proactive Intelligence</h3>
            <ul>
                <li><strong>Scenario Forecasting:</strong> Multi-year projections with market volatility modeling.</li>
                <li><strong>Proactive Alerts:</strong> Notify users of tax optimization opportunities, regulatory changes, product updates.</li>
                <li><strong>Behavioral Analytics:</strong> Learn user preferences to refine recommendation relevance.</li>
                <li><strong>Advanced Simulations:</strong> Monte Carlo analysis for retirement planning, stress testing for risk scenarios.</li>
            </ul>

            <h3>Phase 4: Ecosystem Integration</h3>
            <ul>
                <li><strong>Institutional Partnerships:</strong> Direct integrations with banks, insurers, pension providers, custodians.</li>
                <li><strong>Third-Party Marketplace:</strong> Plugin architecture for additional services (legal, accounting, mortgage brokerage).</li>
                <li><strong>API-First Platform:</strong> Enable external developers to build on TenGo infrastructure.</li>
                <li><strong>White-Label Offerings:</strong> Financial institutions deploy TenGo as their advisory backbone.</li>
            </ul>

            <h3>Phase 5: Regulatory Certification & Trust</h3>
            <ul>
                <li><strong>Regulatory Approval:</strong> Obtain formal recognition from financial authorities (FCA, SEC, ASIC).</li>
                <li><strong>SOC2 Type II Certification:</strong> Independent audit of security and compliance controls.</li>
                <li><strong>Industry Standards:</strong> Contribute to open standards for financial decision logic representation.</li>
                <li><strong>Academic Validation:</strong> Publish research demonstrating decision accuracy and user outcomes.</li>
            </ul>

            <h3>Roadmap Timeline</h3>
            <div class="mermaid">
                gantt
                    dateFormat  YYYY-MM-DD
                    title TenGo Roadmap

                    section Phase 1
                    MVP Core Platform (5 Modules) :active, p1, 2025-10-01, 2025-12-31

                    section Phase 2A
                    Professional Tools :p2a, 2026-01-01, 2026-06-30

                    section Phase 2B
                    Cross-Border :p2b, 2026-07-01, 2026-12-31

                    section Phase 3
                    Predictive AI :p3, 2027-01-01, 2027-06-30

                    section Phase 4
                    Ecosystem :p4, 2027-07-01, 2027-12-31
            </div>

            <h3>Strategic Evolution Summary</h3>
            <table>
                <thead>
                    <tr>
                        <th>Phase</th>
                        <th>Timeline</th>
                        <th>Focus</th>
                        <th>Strategic Outcome</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>1. MVP</strong></td>
                        <td>Q4 2025 (01/10/2025 - 31/12/2025)</td>
                        <td>Build core decision loop, no-code authoring, modular architecture with all five domains (Protection, Savings, Investment, Retirement, Estate), and goal-driven dashboards</td>
                        <td>Proof of concept, compliance integrity, complete financial planning coverage, modularity validation</td>
                    </tr>
                    <tr>
                        <td><strong>2A. Pro</strong></td>
                        <td>H1 2026</td>
                        <td>Enable advisors and professionals with advanced tools</td>
                        <td>Expand user base, establish trust layer, professional adoption</td>
                    </tr>
                    <tr>
                        <td><strong>2B. Cross-Border</strong></td>
                        <td>H2 2026</td>
                        <td>Multi-jurisdictional support expansion</td>
                        <td>Global market readiness, regulatory diversity handling</td>
                    </tr>
                    <tr>
                        <td><strong>3. Predictive AI</strong></td>
                        <td>H1 2027</td>
                        <td>Introduce proactive intelligence and forecasting</td>
                        <td>Continuous optimization, user retention, competitive differentiation</td>
                    </tr>
                    <tr>
                        <td><strong>4. Ecosystem</strong></td>
                        <td>H2 2027 (Complete by 31/12/2027)</td>
                        <td>Integrate with institutions and enable third-party extensions</td>
                        <td>Position as industry standard, platform economics, network effects</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>Post-2027:</strong> Phase 5 (Regulatory Certification) continues into 2028-2029, focusing on formal regulatory approval, SOC2 Type II certification, industry standards contribution, and academic validation.</p>

            <h3>Ultimate Outcome</h3>
            <p>TenGo evolves from a decision engine into the <strong>digital backbone of financial planning</strong> —
            a platform where logic, data, and compliance converge to give every individual and professional access to <strong>perfectly transparent, adaptive financial advice</strong>.</p>

            <blockquote>
                <em>"TenGo doesn't replace the advisor. It replaces everything that limits one."</em>
            </blockquote>
        </section>

        <section id="risks-mitigations">
            <h2>Risks & Mitigations</h2>

            <table>
                <thead>
                    <tr>
                        <th>Risk</th>
                        <th>Impact</th>
                        <th>Mitigation Strategy</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Authoring Complexity</strong></td>
                        <td>Non-technical users struggle with rule authoring</td>
                        <td>Start with forms + spreadsheets; template libraries; strong validation; LLM-assisted extraction</td>
                    </tr>
                    <tr>
                        <td><strong>Cross-Module Conflicts</strong></td>
                        <td>Contradictory recommendations confuse users</td>
                        <td>Governing agent with explicit priority model; what-if simulations; clear trade-off visualization</td>
                    </tr>
                    <tr>
                        <td><strong>Jurisdiction Variance</strong></td>
                        <td>Complex multi-country support delays MVP</td>
                        <td>Scope MVP to single jurisdiction; parameterize schemas; design for extensibility</td>
                    </tr>
                    <tr>
                        <td><strong>LLM Creep</strong></td>
                        <td>LLM used inappropriately in decision paths</td>
                        <td>Strict architectural boundaries; assistants limited to extraction/mapping/explaining only</td>
                    </tr>
                    <tr>
                        <td><strong>Data Quality</strong></td>
                        <td>Poor input data leads to incorrect recommendations</td>
                        <td>Multi-layer validation; API integrations preferred over manual entry; provenance tracking</td>
                    </tr>
                    <tr>
                        <td><strong>Regulatory Changes</strong></td>
                        <td>Frequent updates overwhelm authoring capacity</td>
                        <td>No-code authoring accelerates updates; impact analysis reduces deployment risk; versioning enables safe rollback</td>
                    </tr>
                    <tr>
                        <td><strong>User Trust</strong></td>
                        <td>Users don't trust automated advice</td>
                        <td>Complete audit trails; explainability interface; gradual adoption with human oversight option</td>
                    </tr>
                    <tr>
                        <td><strong>Module Coupling</strong></td>
                        <td>Modules become interdependent, reducing flexibility</td>
                        <td>Strict MCP contracts; shared tools only; independent datastores; zero build-time dependencies</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="required-decisions">
            <h2>Required Decisions</h2>

            <p>The following decisions require stakeholder approval to proceed:</p>

            <ol>
                <li><strong>Approve No-Code Authoring Studio scope:</strong> Forms + spreadsheets in MVP; free-text structured annotations in MVP+.</li>
                <li><strong>Approve module list & independence:</strong> MVP modules = Protection, Savings, Investment, Retirement, Estate Planning (all five domains in core MVP).</li>
                <li><strong>Approve MCP tool contracts:</strong> Shared + per-module tools with frozen JSON schemas (schema freeze date required).</li>
                <li><strong>Approve Governing Advice Agent:</strong> Cross-module orchestration with priority & constraint solver across all five modules.</li>
                <li><strong>Select initial jurisdiction:</strong> UK recommended for MVP (established FS regulations, mature APIs, single currency).</li>
                <li><strong>Define governance workflow:</strong> Number of required reviewers, approval authority, e-signature provider.</li>
                <li><strong>Establish data residency requirements:</strong> Cloud provider regions, encryption standards, backup policies.</li>
                <li><strong>Approve delivery timeline:</strong> MVP completion by 31 December 2025; all phases (Professional Tools, Cross-Border, Predictive AI, Ecosystem) by 31 December 2027.</li>
            </ol>
        </section>

        <section id="ownership">
            <h2>Ownership & Next Actions</h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 1.5rem;">
                <div>
                    <h4>PM (Product Management)</h4>
                    <ul>
                        <li>Finalize metrics, scope statements, and change log</li>
                        <li>Stakeholder sign-off & communications plan</li>
                        <li>Define MVP success criteria with measurable KPIs</li>
                        <li>Coordinate regulatory author user research</li>
                    </ul>
                </div>
                <div>
                    <h4>Architect (Technical Leadership)</h4>
                    <ul>
                        <li>Draft data contracts & JSON Schemas (Context, Recommendation, Bundle, Rule, Module I/O)</li>
                        <li>Define MCP tool specs & example payloads</li>
                        <li>Create service templates for each module</li>
                        <li>Specify event contracts and registry interface</li>
                        <li>Design deployment pipeline and versioning strategy</li>
                    </ul>
                </div>
                <div>
                    <h4>PO (Product Owner)</h4>
                    <ul>
                        <li>Create epics/stories for Authoring Studio + MVP modules</li>
                        <li>Define per-module dashboard UX flows</li>
                        <li>Prioritize module feature sets for MVP vs MVP+</li>
                        <li>Coordinate with design team on UI/UX</li>
                    </ul>
                </div>
            </div>

            <hr style="margin: 2rem 0;">

            <div class="highlight">
                <p><strong>Next Milestone:</strong> If approved, the Architect will deliver the initial schema pack and MCP tool specifications within 2 weeks for review. Development sprint planning begins immediately after schema approval.</p>
            </div>
        </section>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'neutral',
            flowchart: {
                curve: 'basis',
                padding: 20
            },
            gantt: {
                titleTopMargin: 25,
                barHeight: 20,
                barGap: 4,
                topPadding: 50,
                sidePadding: 75
            }
        });
    </script>
</body>
</html>
